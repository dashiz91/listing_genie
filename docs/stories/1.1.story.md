# Story 1.1: Upload Product Photo

**Epic:** Epic 1 - User Onboarding & Product Input
**Story ID:** 1.1
**Title:** Upload Product Photo
**Priority:** Must Have
**Complexity:** Medium
**Status:** Draft

---

## User Story

As a user, I want to upload a photo of my product so that it can be used as the base for generating listing images.

---

## Acceptance Criteria

- [ ] User can drag-and-drop or click to select an image file
- [ ] System accepts JPEG and PNG formats only
- [ ] System rejects files larger than 10MB with clear error message
- [ ] System rejects images smaller than 1000x1000 pixels with clear error message
- [ ] Upload progress indicator displays during upload
- [ ] Uploaded image displays as preview after successful upload
- [ ] User can remove uploaded image and upload a different one

---

## Technical Notes

### API Endpoint
```
POST /api/upload
Request: multipart/form-data with "file" field
Response: {"upload_id": "uuid", "preview_url": "/uploads/uuid.png"}
```

### Validation Rules
- File type: JPEG or PNG only (validate using magic numbers)
- File size: Max 10MB
- Dimensions: Minimum 1000x1000px
- Security: Re-encode image to strip EXIF data

### UI Reference
See `docs/front-end-spec.md` Section 3.2 for Upload Step design:
- Dashed border upload zone
- Drag-over state with solid border
- Uploading state with progress bar
- Preview state with image display
- Error state with clear message

### Storage Reference
See `docs/architecture.md` Section 9.3 for storage service.
Files saved as: `storage/uploads/{uuid}.png`

---

## Dependencies

- **Depends On:** Story 5.1, Story 5.2, Story 5.4
- **Required By:** Story 1.2, Story 2.1

---

## Definition of Done

- [ ] Drag-and-drop upload works on desktop
- [ ] Click-to-upload works on all devices
- [ ] File validation rejects invalid files with message
- [ ] Progress indicator shows during upload
- [ ] Preview displays uploaded image
- [ ] Remove button clears upload
- [ ] Mobile: Camera access option works
- [ ] Security: EXIF data stripped from uploads

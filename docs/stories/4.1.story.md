# Story 4.1: Add Keyword Input for Intent-Based Generation

**Epic:** Epic 4 - Keyword Intent System
**Story ID:** 4.1
**Title:** Add Keyword Input for Intent-Based Generation
**Priority:** Must Have
**Complexity:** Small
**Status:** Draft

---

## User Story

As a user, I want to input my top-performing keywords so that the generated images align with what my customers are searching for.

---

## Acceptance Criteria

- [ ] Text area for bulk keyword input (one per line or comma-separated)
- [ ] Support for 5-20 keywords per generation
- [ ] Keywords parsed and validated
- [ ] Optional: paste directly from Amazon PPC reports
- [ ] Keywords displayed as tags after input
- [ ] Ability to remove individual keywords
- [ ] Keywords saved with generation session

---

## Technical Notes

### UI Reference
See `docs/front-end-spec.md` Section 3.3 (Form Step) and `docs/architecture.md` Section 3.1 for KeywordInput component.

### Component Structure
```
KeywordInput/
|-- KeywordTextArea     # Bulk input field
|-- KeywordTags         # Parsed keywords as removable tags
|-- IntentPreview       # Preview of classified intents (Story 4.2)
```

### Parsing Logic
```javascript
function parseKeywords(input: string): string[] {
    // Split by newlines or commas
    // Trim whitespace
    // Remove duplicates
    // Filter empty strings
    return keywords.slice(0, 20);  // Max 20
}
```

### Validation Rules
- Minimum 5 keywords required
- Maximum 20 keywords allowed
- No character restrictions (allow foreign characters)
- Remove duplicates silently

### Database Storage
Keywords stored in `session_keywords` table with session_id reference.

---

## Dependencies

- **Depends On:** Story 1.2 (Product Form)
- **Required By:** Story 4.2 (Intent Classification)

---

## Definition of Done

- [ ] Text area accepts bulk keyword input
- [ ] Keywords can be comma or newline separated
- [ ] Keywords display as removable tags
- [ ] Individual keywords can be removed
- [ ] 5-20 keyword validation enforced
- [ ] Duplicates removed automatically
- [ ] Keywords persist in session state
- [ ] Keywords saved to database with session

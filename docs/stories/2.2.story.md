# Story 2.2: Generate Main Product Image

**Epic:** Epic 2 - Image Generation Engine
**Story ID:** 2.2
**Title:** Generate Main Product Image
**Priority:** Must Have
**Complexity:** Large
**Status:** Draft

---

## User Story

As a user, I want a professional main image with dynamic composition so that my product stands out in Amazon search results.

---

## Acceptance Criteria

- [ ] System generates main image using specialized prompt
- [ ] Image has pure white background (#FFFFFF)
- [ ] Product fills 85%+ of frame
- [ ] Image includes dynamic composition elements (stacking, textures)
- [ ] No text or watermarks on main image
- [ ] Output resolution is 2000x2000px minimum
- [ ] Image is saved to cloud storage with unique identifier

---

## Technical Notes

### Main Image Creative Goals
From `docs/creative-blueprint.md` Section 1:
- **Goal:** Dominate search results by being visually "dense" and interesting
- **Technique:** Dynamic composition with stacking, depth, ingredient pop
- **Quality:** Premium, tactile texture quality

### Prompt Template Reference
See `docs/architecture.md` Section 5.3 for main_image.py template:
```
Create a premium Amazon main product image.

COMPOSITION:
- Pure white background (#FFFFFF)
- Product fills 85% of frame
- Use dynamic "stacking" composition with depth
- Include "ingredient pop" elements if applicable
- Professional studio lighting with subtle shadows
- Premium, tactile texture quality

STYLE:
- High-end commercial product photography
- Visually "dense" and interesting
- Must stand out in Amazon search results grid
- No text, logos, or watermarks
```

### Amazon Compliance
- Pure white background (RGB 255, 255, 255)
- Product fills 85%+ of frame
- No text, logos, or watermarks
- Professional lighting and shadows

### Storage Path
`storage/generated/{session_id}/main.png`

---

## Dependencies

- **Depends On:** Story 2.1, Story 2.1b
- **Required By:** Story 2.6, Story 2.7, Story 3.1

---

## Definition of Done

- [ ] Main image generates successfully
- [ ] White background verified (#FFFFFF)
- [ ] Product fills majority of frame
- [ ] Dynamic composition applied
- [ ] No text/watermarks present
- [ ] Resolution is 2000x2000px or higher
- [ ] Image saved to storage with session ID
- [ ] Generation time under 60 seconds
